name: language classifier
description: Fine-tunes RoBERTa with frozen base and custom FC layers for text classification from CSV
  - name: csv_path
    type: String
  - name: text_column
    type: String
  - name: label_column
    type: String
  - name: test_size
    type: Float
  - name: max_sequence_length
    type: Integer
  - name: hidden_layer_1
    type: Integer
  - name: hidden_layer_2
    type: Integer
  - name: dropout
    type: Float
  - name: batch_size
    type: Integer
  - name: learning_rate
    type: Float
  - name: num_epochs
    type: Integer
  - name: pretrained_model
    type: String
outputs:
  - name: trained_model
    type: Model
  - name: label_encoder
    type: Data
  - name: training_metrics 
    type: Data
implementation:
  container:
    image: nikhilv215/nesy-factory:v22
    command:
      - python3
      - -u
      - -c
      - |
        
        
    args:
      - --csv_path
      - {inputValue: csv_path}
      - --text_column
      - {inputValue: text_column}
      - --label_column
      - {inputValue: label_column}
      - --test_size
      - {inputValue: test_size}
      - --max_sequence_length
      - {inputValue: max_sequence_length}
      - --hidden_layer_1
      - {inputValue: hidden_layer_1}
      - --hidden_layer_2
      - {inputValue: hidden_layer_2}
      - --dropout
      - {inputValue: dropout}
      - --batch_size
      - {inputValue: batch_size}
      - --learning_rate
      - {inputValue: learning_rate}
      - --num_epochs
      - {inputValue: num_epochs}
      - --pretrained_model
      - {inputValue: pretrained_model}
      - --trained_model
      - {outputPath: trained_model}
      - --label_encoder
      - {outputPath: label_encoder}
      - --training_metrics
      - {outputPath: training_metrics}
